# POS System - Production Environment Configuration Template
# Copy this file to .env.production and fill in the actual values
# IMPORTANT: Never commit .env.production to version control

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=production
VERSION=1.0.0

# =============================================================================
# BACKEND API SETTINGS
# =============================================================================
PORT=3000

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=pos_production
DATABASE_USER=pos_admin

# IMPORTANT: Generate a strong password using: openssl rand -base64 32
DATABASE_PASSWORD=CHANGE_ME_GENERATE_STRONG_PASSWORD

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379

# IMPORTANT: Generate a strong password using: openssl rand -base64 32
# Leave empty if Redis is not password-protected (not recommended for production)
REDIS_PASSWORD=CHANGE_ME_GENERATE_STRONG_PASSWORD

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# CRITICAL: Generate unique secrets for production
# Use: openssl rand -base64 64

JWT_ACCESS_SECRET=CHANGE_ME_GENERATE_UNIQUE_SECRET_MINIMUM_32_CHARS
JWT_REFRESH_SECRET=CHANGE_ME_GENERATE_UNIQUE_SECRET_MINIMUM_32_CHARS

# Token expiry times
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
# Paths to SSL certificate and private key
# For Let's Encrypt: /etc/letsencrypt/live/yourdomain.com/
# For self-signed: /etc/ssl/pos/

SSL_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Cron format: 2 AM daily
BACKUP_RETENTION_DAYS=30

# Optional: AWS S3 for off-site backups
# BACKUP_S3_ENABLED=false
# BACKUP_S3_BUCKET=pos-backups
# BACKUP_S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
LOG_LEVEL=info  # Options: error, warn, info, debug

# =============================================================================
# DEPLOYMENT INFORMATION
# =============================================================================
DEPLOYED_BY=admin
DEPLOYED_DATE=2026-02-14
DEPLOYMENT_ENVIRONMENT=production

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Allowed CORS origins (comma-separated)
CORS_ORIGINS=https://yourdomain.com

# Rate limiting (requests per window)
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# NOTES
# =============================================================================
# 1. After copying this file to .env.production, run:
#    - Generate DATABASE_PASSWORD: openssl rand -base64 32
#    - Generate REDIS_PASSWORD: openssl rand -base64 32
#    - Generate JWT_ACCESS_SECRET: openssl rand -base64 64
#    - Generate JWT_REFRESH_SECRET: openssl rand -base64 64
#
# 2. Update SSL_CERT_PATH and SSL_KEY_PATH with actual certificate locations
#
# 3. Update CORS_ORIGINS with your actual domain
#
# 4. For security, ensure .env.production has restricted permissions:
#    chmod 600 .env.production
#
# 5. Never commit .env.production to version control
#    Add to .gitignore: .env.production
